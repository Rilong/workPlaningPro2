<div *ngIf="!loading">
  <div class="row">
    <div class="col s8 offset-s2">
      <div class="card">
        <div class="card-content">
          <div class="dates">
            <span>01.12.2019</span>
            <span>01.01.2020</span>
          </div>
          <div class="project-name">
            <div class="row" *ngIf="showEditName; else showProjectName">
              <div class="input-field outline col s12">
                <input id="name" type="text"
                       (blur)="saveName($event.target.value)"
                       (keyup.enter)="showEditName = false"
                       [value]="project.name"
                       #nameInput>
                <label for="name">Назва проекту</label>
              </div>
            </div>
            <ng-template #showProjectName>
              <h3 class="text" (click)="editName()">{{project.name}}</h3>
            </ng-template>
          </div>
          <div class="project-progress">
            <div class="progress">
              <div class="determinate" style="width: 70%"></div>
            </div>
            <p class="center-align">70%</p>
          </div>
          <div class="desc">
            <div class="row">
              <div class="input-field outline col s12" *ngIf="showEditDesc; else showProjectDesc">
                <textarea id="textarea1"
                          class="materialize-textarea"
                          (blur)="saveDesc($event.target.value)"
                          #descArea>{{project.description ? project.description : ''}}</textarea>
                <label for="textarea1">Опис проекту</label>
              </div>
              <ng-template #showProjectDesc>
                <div class="col s12">
                  <p class="text"
                     (click)="editDesc()"
                     [class.filled]="project.description">
                    {{project.description ? project.description : 'Детальний опис' }}
                  </p>
                </div>
              </ng-template>
            </div>
            <div class="divider"></div>
            <div class="tasks">
              <div class="row">
                <div class="col s12">
                  <h5>Завдання</h5>
                  <app-tasks-list [tasks]="tasks"></app-tasks-list>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
<p class="center loader">
  <app-loader [show]="loading" type="spinner" size="big"></app-loader>
</p>
